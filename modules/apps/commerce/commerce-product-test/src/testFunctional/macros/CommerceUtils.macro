definition {

	macro commerceTearDown {
		CommerceJSONOrdersAPI._deleteAllCommerceOrdersAndCheck();

		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			Navigator.openURL();

			if (IsElementPresent(locator1 = "UserBar#USER_AVATAR_IMAGE")) {
				User.logoutPG();
			}

			User.firstLoginPG();

			CommerceConfiguration.commerceAdminTearDown();

			CommerceConfiguration.commerceInitializersTearDown();

			if (isSet(doLogout)) {
            	User.logoutPG();
            }
		}
	}
}