definition {

	macro assertOptionFacetsCount {
		var javaScriptCountElement = '''

		let count = document.getElementById('_com_liferay_commerce_product_content_search_web_internal_portlet_CPOptionFacetsPortlet_INSTANCE_xGyweZADwKkt_facetCPOptionsPanelContainer').getElementsByTagName('li');
		var arr = Array.from(count);
		
		var j = 0;
			for (var i = 0; i < arr.length; i += 1) {
    			if (i in arr) {
        			j += 1;
    			}
		};

		var len = j.toString();
		
		return len;
		''';
		var count = selenium.getEval("${javaScriptCountElement}");

		return "${count}";

		echo("THE NUMBER OF FACETED LABELS IS ${count}");

		if ("${count}" != "${value}") {
			fail("Labels number is not correct");
		}
	}

	macro assertSpecificationPanel2FacetsCount {
		var javaScriptCountElement = '''

		let count = document.getElementById('_com_liferay_commerce_product_content_search_web_internal_portlet_CPSpecificationOptionFacetsPortlet_INSTANCE_eLuWbptdFGON_facetCPSpecificationOptionsPanel2').getElementsByTagName('li');
		var arr = Array.from(count);
		
		var j = 0;
			for (var i = 0; i < arr.length; i += 1) {
    			if (i in arr) {
        			j += 1;
    			}
		};

		var len = j.toString();
		
		return len;
		''';
		var count = selenium.getEval("${javaScriptCountElement}");

		return "${count}";

		echo("THE NUMBER OF FACETED LABELS IS ${count}");

		if ("${count}" != "${value}") {
			fail("Labels number is not correct");
		}
	}

	macro updateFacetConfiguration {
		Portlet.gotoPortletOptions(
			portletName = "${portletName}",
			portletOption = "Configuration");

		WaitForLiferayEvent.initializeLiferayEventLog();

		SelectFrameTop();

		SelectFrame(locator1 = "IFrame#CONFIGURATION");

		if (isSet(displayTemplate)) {
			Select(
				key_fieldLabel = "Display Template",
				locator1 = "Select#GENERIC_SELECT_FIELD",
				value1 = "${displayTemplate}");
		}

		if (isSet(parameterName)) {
			FormFields.editText(
				fieldName = "parameterName",
				fieldValue = "${parameterName}");
		}

		if (isSet(maxTerms)) {
			FormFields.editText(
				fieldName = "maxTerms",
				fieldValue = "${maxTerms}");
		}

		if (isSet(frequencyThreshold)) {
			FormFields.editText(
				fieldName = "frequencyThreshold",
				fieldValue = "${frequencyThreshold}");
		}

		if ("${displayFrequencies}" == "disable") {
			FormFields.disableCheckbox(fieldName = "frequenciesVisible");
		}

		PortletEntry.save();

		IFrame.closeFrame();
	}

}