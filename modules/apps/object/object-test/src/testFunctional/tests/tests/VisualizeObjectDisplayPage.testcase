@component-name = "portal-object"
definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Object";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			ObjectAdmin.deleteAllCustomObjectsViaAPI();
		}
	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to define a fixed filters with Boolean type for table view on the Display Page"
	@ignore = "Test Stub"
	@priority = "4"
	test CanDefineFixedFilterForBooleanType {

		// TODO LPS-139039 CanDefineFixedFilterForBooleanType pending implementation

	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to define a fixed filters with Picklist type for table view on the Display Page"
	@ignore = "Test Stub"
	@priority = "4"
	test CanDefineFixedFilterForPicklistType {

		// TODO LPS-139040 CanDefineFixedFilterForPicklistType pending implementation

	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to set the pagination as Numeric"
	@ignore = "Test Stub"
	@priority = "4"
	test CanSetPaginationNumeric {

		// TODO LPS-139041 CanSetPaginationNumeric pending implementation

	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to set the pagination as Simple"
	@ignore = "Test Stub"
	@priority = "4"
	test CanSetPaginationSimple {

		// TODO LPS-139042 CanSetPaginationSimple pending implementation

	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of Big Decimal type for a specific Object"
	@priority = "4"
	test DisplaySpecificEntryBigDecimal {
		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "BigDecimal",
			fieldName = "customObjectField",
			fieldType = "BigDecimal",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "123.123456");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Heading");

		VisualizeObjectCollectionDisplay.openHeading();

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		VisualizeObjectCollectionDisplay.mapFragment(fieldLabel = "BigDecimal");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "123.123456");

		PageEditor.clickPublish();

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Navigator.gotoSitePage(
			pageName = "Test Content Page Name",
			siteName = "${siteName}");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "123.123456");
	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of Boolean type for a specific Object"
	@priority = "4"
	test DisplaySpecificEntryBoolean {
		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "Boolean",
			fieldName = "customObjectField",
			fieldType = "Boolean",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "true");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Heading");

		VisualizeObjectCollectionDisplay.openHeading();

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		VisualizeObjectCollectionDisplay.mapFragment(fieldLabel = "Boolean");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "true");

		PageEditor.clickPublish();

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Navigator.gotoSitePage(
			pageName = "Test Content Page Name",
			siteName = "${siteName}");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "true");
	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of Date type for a specific Object"
	@ignore = "Test Stub"
	@priority = "4"
	test DisplaySpecificEntryDate {

		// TODO LPS-139034 DisplaySpecificEntryDate pending implementation

	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of Double type for a specific Object"
	@priority = "4"
	test DisplaySpecificEntryDouble {
		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "Double",
			fieldName = "customObjectField",
			fieldType = "Double",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "1.54");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Heading");

		VisualizeObjectCollectionDisplay.openHeading();

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		VisualizeObjectCollectionDisplay.mapFragment(fieldLabel = "Double");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "1.54");

		PageEditor.clickPublish();

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Navigator.gotoSitePage(
			pageName = "Test Content Page Name",
			siteName = "${siteName}");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "1.54");
	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of Integer type for a specific Object"
	@priority = "4"
	test DisplaySpecificEntryInteger {
		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "Integer",
			fieldName = "customObjectField",
			fieldType = "Integer",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "123456789");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Heading");

		VisualizeObjectCollectionDisplay.openHeading();

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		VisualizeObjectCollectionDisplay.mapFragment(fieldLabel = "Integer");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "123456789");

		PageEditor.clickPublish();

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Navigator.gotoSitePage(
			pageName = "Test Content Page Name",
			siteName = "${siteName}");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "123456789");
	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of Long type for a specific Object"
	@priority = "4"
	test DisplaySpecificEntryLong {
		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "Long",
			fieldName = "customObjectField",
			fieldType = "Long",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "123456789123456789");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Heading");

		VisualizeObjectCollectionDisplay.openHeading();

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		VisualizeObjectCollectionDisplay.mapFragment(fieldLabel = "Long");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "123456789123456789");

		PageEditor.clickPublish();

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Navigator.gotoSitePage(
			pageName = "Test Content Page Name",
			siteName = "${siteName}");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "123456789123456789");
	}

	@description = "LPS-133867|LPS-135004 - Verify it is possible to display a specific entry of String type for a specific Object"
	@priority = "5"
	test DisplaySpecificEntryString {
		property portal.acceptance = "true";

		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "String",
			fieldName = "customObjectField",
			fieldType = "String",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "Test text");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Heading");

		VisualizeObjectCollectionDisplay.openHeading();

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		VisualizeObjectCollectionDisplay.mapFragment(fieldLabel = "String");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "Test text");

		PageEditor.clickPublish();

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Navigator.gotoSitePage(
			pageName = "Test Content Page Name",
			siteName = "${siteName}");

		VisualizeObjectDisplayPage.assertDisplayEntry(entry = "Test text");
	}

	@description = "LPS-137104 - Verify if Objects and its data are displayed as a Content Type and Subtype for a Page Template"
	@priority = "5"
	test ObjectDisplayedForPageTemplate {
		property portal.acceptance = "true";

		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		VisualizeObjectDisplayPage.createObjectPageTemplate(
			contentType = "Custom Object",
			pageTemplateName = "Object Display Page Template");

		VisualizeObjectDisplayPage.validateObjectContentType(contentType = "Custom Object");
	}

	@description = "LPS-137105 - Verify if the Object entries are rendered when previewing it"
	@ignore = "Test Stub"
	@priority = "5"
	test ObjectEntriesAreRendered {
		property portal.acceptance = "true";

		// TODO LPS-137101 ObjectEntriesAreRendered pending implementation

	}

	@description = "LPS-137106 - Verify if it is possible to link a Mapped URL with the Objects Page Template"
	@ignore = "Test Stub"
	@priority = "5"
	test ObjectMappedURL {
		property portal.acceptance = "true";

		// TODO LPS-137103 ObjectMappedURL pending implementation

	}

	@description = "LPS-133867|LPS-135004 - Verify if it's possible map and view the image of user Profile in a Fragment of Display Page"
	@priority = "4"
	test ViewImageUserProfileFromSpecificEntry {
		ObjectAdmin.addObjectViaAPI(
			labelName = "Custom Object",
			objectName = "CustomObject",
			pluralLabelName = "Custom Objects");

		ObjectAdmin.addObjectFieldViaAPI(
			fieldLabelName = "Custom Field",
			fieldName = "customObjectField",
			fieldType = "String",
			isRequired = "false",
			objectName = "CustomObject");

		ObjectAdmin.publishObjectViaAPI(objectName = "CustomObject");

		ObjectAdmin.addObjectSingleFieldEntryViaAPI(
			fieldName = "customObjectField",
			objectName = "CustomObject",
			value = "Test text");

		ContentPages.addPage(pageName = "Test Content Page Name");

		PageEditor.addFragment(
			collectionName = "Basic Components",
			fragmentName = "Image");

		DoubleClick(
			key_fragmentName = "Image",
			locator1 = "Fragment#FRAGMENT_BODY");

		Navigator.gotoNavTab(navTab = "Page Elements");

		PageEditorMapping.gotoEditableFieldMapping(
			fragmentName = "Image",
			id = "image-square");

		Select(
			key_fieldLabel = "Source Selection",
			locator1 = "Select#GENERIC_SELECT_FIELD",
			value1 = "Mapping");

		VisualizeObjectDisplayPage.addItem(
			frameTitle = "Select",
			pluralLabelName = "Custom Objects");

		Select(
			key_fieldLabel = "Field",
			locator1 = "Select#GENERIC_SELECT_FIELD",
			value1 = "User Profile Image");

		PageEditor.clickPublish();

		SitePages.gotoPageMenuItem(
			menuItem = "View",
			pageName = "Test Content Page Name");

		PageEditor.viewFragmentEditableImage(
			id = "image-square",
			imageDescription = "",
			imageFileName = "");
	}

}