@component-name = "portal-workflow-ee"
definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property test.run.environment = "EE";
	property testray.main.component.name = "Kaleo Forms Admin";

	var kfFieldSetName = "Contacts";
	var workflowAssetType = "Process";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		ProductMenu.gotoPortlet(
			category = "Content & Data",
			portlet = "Kaleo Forms Admin");

		//KaleoFormsAdmin.addProcess();

		//KaleoFormsAdmin.addProcessDetails(
		//	kfProcessDescription = "Kaleo Forms Process Description",
		//	kfProcessName = "Kaleo Forms Process");

		//KaleoFormsAdmin.next();

		//KaleoFormsAdmin.chooseFieldSet(
		//	kfFieldSetName = "${kfFieldSetName}",
		//	kfProcessName = "Kaleo Forms Process");

		//KaleoFormsAdmin.next();

		//KaleoFormsAdmin.chooseWorkflow(
		//	kfProcessName = "Kaleo Forms Process",
		//	workflowDefinitionTitle = "Single Approver");

		//KaleoFormsAdmin.next();

		//KaleoFormsAdmin.assignForm(
		//	kfProcessName = "Kaleo Forms Process",
		//	workflowTask = "create");

		//KaleoFormsAdmin.addForm(kfFormName = "Created Task Form");

		//KaleoFormsAdmin.saveForm();

		//KaleoFormsAdmin.chooseForm(kfFormName = "Created Task Form");

		//KaleoFormsAdmin.saveProcess(kfProcessName = "Kaleo Forms Process");

	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			KaleoFormsAdmin.tearDownProcess();

			DDLTemplate.tearDownTemplateCP();

			DDLTemplate.tearDownTemplateCP(ddlDataDefinitionName = "To Do");

			Workflow.tearDownSpecificWorkflowDefinition(workflowDefinitionTitle = "Edited Workflow Definition");

			Workflow.tearDownWorkflowDefinitions();

			Page.tearDownCP();
		}
	}

	@description = "Verify that user can insert especial caracter in the submission."
	@ignore = "Test Stub"
	@priority = "3"
	test CanInsertEspecialCaracter {

		// TODO LRQA-70702 CanInsertEspecialCaracter pending implementation

	}

	@description = "Verify that the details page shows the process Status is Approved after the user approve."
	@ignore = "Test Stub"
	@priority = "4"
	test CanViewProcessStatusApproved {

		// TODO LRQA-70704 CanViewProcessStatusApproved pending implementation

	}

	@description = "Verify that the details page shows the process Status is Pending before the user approve."
	@priority = "4"
	test CanViewProcessStatusPending {
		KaleoFormsAdmin.submitNewProcess(kfProcessName = "Kaleo Forms Process");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Liferay",
			fieldFieldLabel = "Company",
			fieldName = "company");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "test@liferay.com",
			fieldFieldLabel = "Email",
			fieldName = "email");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Test",
			fieldFieldLabel = "First Name",
			fieldName = "firstName");

		DDLRecord.populateFieldSelect(
			ddlRecordFieldData = "Google Hangouts",
			fieldFieldLabel = "Instant Messenger Service",
			fieldName = "imService");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "testliferay",
			fieldFieldLabel = "Instant Messenger",
			fieldName = "imUserName");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "QA Engineer",
			fieldFieldLabel = "Job Title",
			fieldName = "jobTitle");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Test",
			fieldFieldLabel = "Last Name",
			fieldName = "lastName");

		DDLRecord.populateFieldTextBox(
			ddlRecordFieldData = "Notes",
			fieldFieldLabel = "Notes",
			fieldName = "notes");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "(123) 456-7890",
			fieldFieldLabel = "Phone (Mobile)",
			fieldName = "phoneMobile");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "(123) 111-2222",
			fieldFieldLabel = "Phone (Office)",
			fieldName = "phoneOffice");

		KaleoFormsAdmin.saveProcessRecord();

		LexiconEntry.gotoEllipsisMenuItem(menuItem = "View");

		AssertElementPresent(
			key_status = "Pending",
			locator1 = "CommerceEntry#WORKFLOW_STATUS");
	}

	@description = "Verify that the basic structure of workflow track approval is available."
	@ignore = "Test Stub"
	@priority = "5"
	test CanViewTrackApprovalBasicStructure {

		// TODO LRQA-71869 CanViewTrackApprovalBasicStructure pending implementation

	}

	@description = "Verify that the fields filled on submissions appears on the details page."
	@ignore = "Test Stub"
	@priority = "5"
	test FieldsAppearsOnTheDetailsPage {

		// TODO LRQA-70700 FieldsAppearsOnTheDetailsPage pending implementation

	}

	@description = "Verify that the details page shows the version."
	@ignore = "Test Stub"
	@priority = "3"
	test VersionOnDetailsPage {

		// TODO LRQA-70701 VersionOnDetailsPage pending implementation

	}

}