definition {

	macro deletePage {
		WaitForPageLoad();

		Click(
			key_pageName = "${pageName}",
			locator1 = "SitePages#LIST_GROUP_ITEM_ELLIPSIS_ICON");

		MenuItem.clickNoError(menuItem = "Delete");

		if (isSet(hasChildren)) {
			AssertConfirm(value1 = "This page has child pages that will also be removed. Are you sure you want to delete this page?");
		}
		else {
			AssertConfirm(value1 = "Are you sure you want to delete this page?");
		}

		if (isSet(failure)) {
			if (IsElementPresent(locator1 = "Message#ERROR_2")) {
				Alert.viewRequestFailedToComplete();

				AssertTextEquals(
					locator1 = "Message#ERROR_2",
					value1 = "${failure}");
			}
			else {
				AssertTextEquals(
					locator1 = "Message#ERROR",
					value1 = "${failure}");
			}
		}
		else {
			Alert.viewSuccessMessage();
		}
	}

	macro expandPageTree {
		if (!(isSet(depth))) {
			var depth = "1";
		}

		var count = "0";

		while ("${count}" != "${depth}") {
			var index = ${count} + 1;

			Click(
				key_depth = "${index}",
				locator1 = "SitePages#LIST_GROUP_ITEM_DEPTH");

			var count = ${count} + 1;
		}
	}

	@summary = "Go to the page creation form through the empty-result-message taglib"
	macro gotoAddFirstPage {
		var key_menuItem = "${pageType}";

		AssertVisible(locator1 = "Message#EMPTY_INFO_TAGLIB");

		Click.waitForMenuToggleJSClick(locator1 = "Dropdown#EMPTY_MESSAGE_DROPDOWN");

		Click(locator1 = "MenuItem#DROPDOWN_MENU_ITEM");
	}

	@summary = "Go to the ellipsis menu item of a page. Parent pages hierarchy is required to navigate to child pages."
	macro gotoPageEllipsisMenuItem {
		SitePages.clickPageMenu(
			pageName = "${pageName}",
			parentPage = "${parentPage}",
			parentPagesHierarchy = "${parentPagesHierarchy}");

		MenuItem.click(menuItem = "${menuItem}");
	}

	macro togglePrivacy {
		WaitForPageLoad();

		if (IsElementNotPresent(key_breadcrumbName = "${privacy}", locator1 = "Breadcrumb#BREADCRUMB_ENTRY_EXACT_MATCH")) {
			Click(
				key_itemName = "${privacy}",
				locator1 = "SitePages#LIST_GROUP_ITEM");
		}
	}

	macro viewPageType {
		AssertElementPresent(
			key_pageName = "${pageName}",
			key_pageType = "${pageType}",
			locator1 = "SitePages#LIST_GROUP_ITEM_PAGE_TYPE");
	}

}