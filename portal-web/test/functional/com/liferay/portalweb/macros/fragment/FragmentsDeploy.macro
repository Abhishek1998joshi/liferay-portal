definition {

	@description = "Deploy the fragments zip into Liferay Portal"
	macro deployZipOnLiferayPortal {
		var liferayHome = PropsUtil.get("liferay.home.dir.name");
		var testBaseDirName = PropsUtil.get("test.base.dir.name");
		var testDependenciesDirName = PropsUtil.get("test.dependencies.dir.name");

		var dependenciesDir = TestCase.getDependenciesDirPath();
		var filePath = "${dependenciesDir}/${fragmentsZip}";
		var fileExists = FileUtil.exists("${filePath}");

		if ("${fileExists}" == "true") {
			ArchiveUtil.archive("${filePath}", "${liferayHome}/deploy/${fragmentsZip}");
		}
		else {
			ArchiveUtil.archive("${testBaseDirName}/${testDependenciesDirName}/${fragmentsZip}", "${liferayHome}/deploy/${fragmentsZip}");
		}

		Pause(locator1 = "10000");
	}

}