@component-name = "portal-questions"
definition {

	property osgi.module.configuration.file.names = "com.liferay.questions.web.internal.configuration.QuestionsConfiguration.config";
	property osgi.module.configurations = "com.liferay.portlet.display-category=&quot;category.collaboration&quot;\nenableRedirectToLogin=&quot;true&quot;";
	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Questions";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		JSONLayout.addPublicLayout(
			groupName = "Guest",
			layoutName = "Questions Page");

		Navigator.gotoPage(pageName = "Questions Page");

		Portlet.addPG(portletName = "Questions");

		ProductMenu.gotoPortlet(
			category = "Site Builder",
			portlet = "Pages");

		SitePages.configurePage(
			columnName = "1 Column",
			pageName = "Questions Page",
			privacy = "Public Pages",
			sitePageType = "Widget Page");
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			ProductMenu.gotoPortlet(
				category = "Content &amp; Data",
				portlet = "Message Boards");

			if (IsElementPresent(locator1 = "Questions#QUESTIONS_LIST")) {
				Questions.tearDown();
			}

			Page.tearDownCP();
		}
	}

	@description = "Validate if the user can post a question with non-Latin characters， it also covers LPS-128639."
	@priority = "5"
	test AddQuestionWithNonLatinCharacters {
		Navigator.gotoPage(pageName = "Questions Page");

		Questions.gotoTab(questionTabField = "Questions");

		Questions.addRootTopic(
			rootTopicDescription = "トピック記述",
			rootTopicName = "質問トピック");

		Navigator.gotoPage(pageName = "Questions Page");

		Questions.gotoCategory(categoryName = "質問トピック");

		Questions.askQuestionFillingTheMandatoryFields(
			contentField = "私の好きな日本料理は寿司とすき焼きです",
			titleField = "あなたの好きな日本料理は何ですか");

		Navigator.gotoPage(pageName = "Questions Page");

		Questions.gotoCategory(categoryName = "質問トピック");

		Questions.gotoDetails(questionTitle = "あなたの好きな日本料理は何ですか");
	}

}