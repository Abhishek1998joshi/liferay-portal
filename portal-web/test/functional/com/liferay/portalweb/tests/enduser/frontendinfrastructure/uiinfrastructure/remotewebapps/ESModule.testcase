definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.component.names = "Remote Apps";
	property testray.main.component.name = "Remote Apps";

	setUp {

		task("Given Liferay portal"){
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		}	

		task("When navigate to home page"){
			Navigator.gotoPage(pageName = "Home");
		}
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {

				PortalInstances.tearDownCP();
		}
	}

	@description = "LPS-165439. When add a remote app in the HTML of the page I'm able to see references to react and react-dom"
	@priority = "5"
	test CanGenerateTheAMDToESMBridge {
		
		task("Then import maps is referenced in the HTML of the page."){
			
			AssertElementPresent(locator1 = "//script[@type='importmap' and contains(.,'react-dom')]");
			
			AssertElementPresent(locator1 = "//script[@type='importmap' and contains(.,'react')]");
		}	
	}
}